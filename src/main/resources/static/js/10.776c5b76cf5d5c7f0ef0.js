webpackJsonp([10],{dwJF:function(e,t){},vVva:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("xv//"),a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"main-index"},[i("navigation"),e._v(" "),i("div",{staticClass:"user-data"},[i("div",{staticClass:"mine-user"},[i("p",[e._v("我的用户")]),e._v(" "),i("p",{on:{click:e.createAccount}},[e._v("创建")])]),e._v(" "),i("div",{staticClass:"user-messages"},[e._m(0),e._v(" "),0==e.userMessages.total?i("div",{staticClass:"no-account"},[e._v("您未有子账号")]):e._e(),e._v(" "),e._l(e.userMessages.data,function(t,s){return i("div",{key:s,staticClass:"all-messages"},[i("p",{staticStyle:{width:"200px"}},[e._v(e._s(t.accountPhone))]),e._v(" "),i("p",{staticStyle:{width:"120px"}},[e._v(e._s(t.accountName))]),e._v(" "),0==t.accountSex?i("p",{staticStyle:{width:"100px"}},[e._v("女")]):e._e(),e._v(" "),1==t.accountSex?i("p",{staticStyle:{width:"100px"}},[e._v("男")]):e._e(),e._v(" "),i("p",{staticStyle:{width:"300px"}},[e._v(e._s(t.accountEmail))]),e._v(" "),i("p",{staticClass:"delete",on:{click:function(s){e.removeUser(t.id)}}},[e._v("删除")])])}),e._v(" "),i("div",{staticClass:"page"},[i("p",[e._v("共"+e._s(e.userMessages.total)+"条")]),e._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":1,layout:"prev, pager, next, jumper",total:e.userMessages.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)])],2)]),e._v(" "),e.isCreate?i("div",{staticClass:"shade"}):e._e(),e._v(" "),e.isCreate?i("div",{staticClass:"create-account"},[i("div",{staticClass:"create-head"},[i("p",[e._v("创建账号")]),e._v(" "),i("img",{attrs:{src:s("hwYu"),alt:""},on:{click:e.closeCreate}})]),e._v(" "),i("div",{staticClass:"create-cont"},[i("div",{staticClass:"account-info"},[i("p",[e._v("姓名")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"account-info"},[i("p",{staticClass:"account-sex"},[e._v("性别")]),e._v(" "),i("select",{attrs:{id:"seleted"},on:{change:function(t){e.changeSex()}}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("请选择性别")]),e._v(" "),e._l(e.sexList,function(t,s){return i("option",{key:s},[e._v(e._s(t.name))])})],2)]),e._v(" "),i("div",{staticClass:"account-info"},[i("p",[e._v("手机号")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.userPhone,expression:"userPhone"}],attrs:{type:"text",placeholder:"请输入手机号码（账号）",maxlength:"11"},domProps:{value:e.userPhone},on:{input:function(t){t.target.composing||(e.userPhone=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"account-info"},[i("p",[e._v("邮箱")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.userEmail,expression:"userEmail"}],attrs:{type:"text",placeholder:"请输入邮箱"},domProps:{value:e.userEmail},on:{input:function(t){t.target.composing||(e.userEmail=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"create-btn"},[i("p",{on:{click:e.closeCreate}},[e._v("取消")]),e._v(" "),i("p",{on:{click:e.createSuccess}},[e._v("立即创建")])])]):e._e(),e._v(" "),e.isSuccess?i("div",{staticClass:"create-success"},[e._v("创建成功")]):e._e(),e._v(" "),e.isDelete?i("div",{staticClass:"shade"}):e._e(),e._v(" "),e.isDelete?i("div",{staticClass:"remove-user"},[i("div",{staticClass:"remove-title"},[e._v("温馨提示")]),e._v(" "),i("div",{staticClass:"remove-cont"},[e._v("是否删除该用户")]),e._v(" "),i("div",{staticClass:"never-hint"},[i("el-checkbox",{model:{value:e.isHint,callback:function(t){e.isHint=t},expression:"isHint"}},[e._v("不再提示")])],1),e._v(" "),i("div",{staticClass:"remove-btn"},[i("p",{on:{click:e.closeDelete}},[e._v("取消")]),e._v(" "),i("p",{on:{click:e.deleteUser}},[e._v("删除")])])]):e._e(),e._v(" "),e.upVip?i("div",{staticClass:"shade"}):e._e(),e._v(" "),e.upVip?i("div",{staticClass:"vip-grade"},[i("div",{staticClass:"vip-title"},[e._v("温馨提示")]),e._v(" "),e._m(1),e._v(" "),i("div",{staticClass:"vip-btn"},[i("p",{on:{click:e.cancelVip}},[e._v("确定")])])]):e._e()],1),e._v(" "),i("bottom")],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-name"},[s("p",{staticStyle:{width:"200px"}},[e._v("电话")]),e._v(" "),s("p",{staticStyle:{width:"120px"}},[e._v("姓名")]),e._v(" "),s("p",{staticStyle:{width:"100px"}},[e._v("性别")]),e._v(" "),s("p",{staticStyle:{width:"300px"}},[e._v("邮箱")]),e._v(" "),s("p",{staticStyle:{width:"60px"}},[e._v("管理")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vip-cont"},[this._v("\n        温馨提示您的账号权限无法创建更多子账号，\n        "),t("br"),this._v("如需帮助，请联系网站管理员\n      ")])}]};var n=function(e){s("dwJF")},c=s("VU/8")(i.a,a,!1,n,"data-v-1ff4fd9b",null);t.default=c.exports},"xv//":function(e,t,s){"use strict";(function(e){var i=s("mvHQ"),a=s.n(i),n=s("BuVn"),c=s("hnQp"),r=s("RtM3");t.a={data:function(){return{userMessages:[],currentPage:1,sexList:[{name:"男"},{name:"女"}],isCreate:!1,upVip:!1,isSuccess:!1,isHint:!1,isDelete:!1,userInfo:"",userName:"",userPhone:"",userEmail:"",userSex:"",userDelete:""}},components:{bottom:c.a,navigation:n.a},created:function(){console.log(this.$route.query.barIndex);var e=this.$cookies.get("userInfo");this.userInfo=e,console.log(e)},mounted:function(){this.getMyuserList()},methods:{getMyuserList:function(){var e=this,t=a()({userId:this.userInfo.userId,token:this.userInfo.token,page:this.currentPage});Object(r.C)(t).then(function(t){console.log(t),e.userMessages=t})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.currentPage=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e},changeSex:function(){var t=e("#seleted")[0].selectedIndex-1;this.userSex=this.sexList[t].name},createAccount:function(){this.isCreate=!this.isCreate},closeCreate:function(){this.isCreate=!this.isCreate,this.userName="",this.userPhone="",this.userEmail=""},createSuccess:function(){var e=this,t="";if("女"==this.userSex?t=0:"男"==this.userSex&&(t=1),this.userEmail){var s=a()({userId:this.userInfo.userId,token:this.userInfo.token,memberLevel:this.userInfo.memberLevel,accountName:this.userName,accountSex:t,accountPhone:this.userPhone,accountEmail:this.userEmail});Object(r.h)(s).then(function(t){console.log(t),"000000"==t.code?(e.isCreate=!e.isCreate,e.isSuccess=!e.isSuccess,e.userName="",e.userPhone="",e.userEmail="",e.getMyuserList(),setTimeout(function(){e.isSuccess=!e.isSuccess},1e3)):"001014"==t.code?(e.isCreate=!e.isCreate,e.upVip=!e.upVip,e.userName="",e.userPhone="",e.userEmail=""):alert(t.msg)})}else alert("请填写邮箱")},removeUser:function(e){var t=this;if(console.log(e),console.log(this.isHint),this.userDelete=e,1==this.isHint){var s=a()({userId:this.userInfo.userId,token:this.userInfo.token,subAccountId:e});Object(r.n)(s).then(function(e){console.log(e),"000000"==e.code?t.getMyuserList():alert(e.msg)})}else this.isDelete=!this.isDelete},deleteUser:function(){var e=this,t=a()({userId:this.userInfo.userId,token:this.userInfo.token,subAccountId:this.userDelete});Object(r.n)(t).then(function(t){console.log(t),"000000"==t.code?(e.isDelete=!e.isDelete,e.getMyuserList()):alert(t.msg)})},closeDelete:function(){this.isDelete=!this.isDelete,this.isHint=!1},cancelVip:function(){this.upVip=!this.upVip},goVip:function(){this.$router.push({path:"/vipCenter"})}},watch:{currentPage:function(){this.getMyuserList()}}}}).call(t,s("7t+N"))}});
//# sourceMappingURL=10.776c5b76cf5d5c7f0ef0.js.map