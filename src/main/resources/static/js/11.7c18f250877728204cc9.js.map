{"version":3,"sources":["webpack:///src/pages/news/industry-dynamics.vue","webpack:///./src/pages/news/industry-dynamics.vue?6296","webpack:///./src/pages/news/industry-dynamics.vue"],"names":["industry_dynamics","data","currentPage","newsList","allPage","newsCont","userId","token","components","top","components_top","bottom","created","user","this","$cookies","get","userInfo","console","log","stringify_default","mounted","$router","app","_route","name","getNews","window","addEventListener","scrollToTop","destroyed","removeEventListener","methods","toDetail","e","push","path","query","newsId","id","handleSizeChange","val","handleCurrentChange","that","timer","setInterval","Math","floor","scrollTop","document","documentElement","body","clearInterval","pageYOffset","_this","page","Object","index","then","res","code","alert","count","news","forEach","item","newsText","match","join","replace","watch","news_industry_dynamics","render","_vm","_h","$createElement","_c","_self","_v","staticClass","_l","key","on","click","$event","_s","newsTitle","attrs","src","newsImg","alt","domProps","innerHTML","current-page","page-size","pager-count","layout","total","size-change","current-change","update:currentPage","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.7c18f250877728204cc9.js","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 头部标题 -->\r\n    <top></top>\r\n    <!-- 新闻推送 -->\r\n    <div class=\"news-push\"></div>\r\n    <!-- 新闻列表 -->\r\n    <div class=\"news-list\" v-for=\"(news,index) in newsList.news\" :key=\"index\">\r\n      <div class=\"news-title\" @click=\"toDetail(news)\">{{news.newsTitle}}</div>\r\n      <div class=\"news-content\">\r\n        <img :src=\"news.newsImg\" alt class=\"news-img\" />\r\n        <div class=\"news-cont\" v-html=\"newsCont[index+(currentPage-1)*10]\">\r\n          {{newsCont[index]}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 分页器 -->\r\n    <div class=\"paging\" v-if=\"allPage\">\r\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\" :page-size=\"1\" :pager-count=\"5\" layout=\"prev, pager, next\" :total=\"allPage\">\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 底部 -->\r\n    <bottom></bottom>\r\n  </div>\r\n</template>\r\n<script>\r\n  import top from \"@/components/top\";\r\n  import bottom from \"@/components/bottom\";\r\n  import { initIndustry } from '@/api/index/index.js';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 默认页码\r\n        currentPage: 1,\r\n        // 新闻列表数据\r\n        newsList: '',\r\n        // 总页数\r\n        allPage: '',\r\n        newsCont: [],\r\n        userId: '',\r\n        token: ''\r\n      };\r\n    },\r\n    //   引入组件\r\n    components: { top, bottom },\r\n    created() {\r\n      // 获取cookie的用户信息\r\n      let user = this.$cookies.get(\"userInfo\");\r\n      this.userInfo = user;\r\n      console.log(\"user\" + JSON.stringify(user));\r\n\r\n    },\r\n    mounted() {\r\n      console.log(this.$router.app._route.name);\r\n      // 获取新闻信息列表\r\n      this.getNews();\r\n      window.addEventListener('scroll', this.scrollToTop)\r\n    },\r\n    destroyed() {\r\n      window.removeEventListener('scroll', this.scrollToTop)\r\n    },\r\n    methods: {\r\n      // 跳转新闻详情页\r\n      toDetail(e) {\r\n        this.$router.push({ path: \"newsDetail\", query: { newsId: e.id } });\r\n      },\r\n      handleSizeChange(val) {\r\n        console.log(val);\r\n        this.currentPage = val;\r\n      },\r\n      handleCurrentChange(val) {\r\n        console.log(val);\r\n        this.currentPage = val;\r\n        let that = this\r\n        let timer = setInterval(() => {\r\n          let ispeed = Math.floor(-that.scrollTop / 10)\r\n          document.documentElement.scrollTop = document.body.scrollTop = 600\r\n          if (that.scrollTop === 600) {\r\n            clearInterval(timer)\r\n          }\r\n        }, 16)\r\n      },\r\n      scrollToTop() {\r\n        let that = this\r\n        let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop + 600\r\n        that.scrollTop = scrollTop\r\n      },\r\n      // 获取新闻列表\r\n      getNews() {\r\n        let page = JSON.stringify({\r\n          page: this.currentPage\r\n        });\r\n        initIndustry(page).then(res => {\r\n          console.log(res);\r\n          if (res.code == '001008') {\r\n            alert(\"无数据\");\r\n          } else {\r\n            this.newsList = res.data;\r\n            this.allPage = res.data.count;\r\n            res.data.news.forEach(item => {\r\n              this.newsCont.push(\r\n                item.newsText\r\n                  .match(/<p\\/?.+?\\/p>/g)\r\n                  .join(\"\")\r\n                  .replace(/<img\\/?.+?>/g, \"\")\r\n                  .replace(/<\\/?.+?>/g, \"\")\r\n              );\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    watch: {\r\n      currentPage: function () {\r\n        this.getNews();\r\n      }\r\n    }\r\n  };\r\n</script>>\r\n<style scoped>\r\n  /* 新闻推送 */\r\n  .news-push {\r\n    width: 100%;\r\n    height: 600px;\r\n    line-height: 600px;\r\n    background-image: url(\"../../../static/img/9fbd6e429b365e046072619be3b414b2.png\");\r\n    background-size: 100% 100%;\r\n    text-align: center;\r\n    padding-top: 88px;\r\n  }\r\n\r\n  .news-list {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    margin-top: 70px;\r\n  }\r\n\r\n  .news-title {\r\n    font-size: 26px;\r\n    font-family: PingFangSC-Semibold, PingFang SC;\r\n    font-weight: 600;\r\n    color: rgba(75, 75, 75, 1);\r\n  }\r\n\r\n  .news-content {\r\n    display: flex;\r\n    margin-top: 35px;\r\n  }\r\n\r\n  .news-img {\r\n    width: 400px;\r\n    height: 300px;\r\n    border-radius: 8px;\r\n    margin-right: 30px;\r\n  }\r\n\r\n  .news-cont {\r\n    height: 292px;\r\n    font-size: 16px;\r\n    font-family: PingFang-SC-Medium, PingFang-SC;\r\n    font-weight: 500;\r\n    color: rgba(120, 120, 120, 1);\r\n    text-indent: 2em;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 12;\r\n    overflow: hidden;\r\n  }\r\n\r\n  /* 分页器 */\r\n  .paging {\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 16px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: rgba(120, 120, 120, 1);\r\n    margin-top: 50px;\r\n    margin-bottom: 50px;\r\n  }\r\n\r\n  @media only screen and (max-width:768px),\r\n  only screen and (max-device-width:768px) {\r\n    .news-push {\r\n      height: 150px;\r\n      line-height: 150px;\r\n      padding-top: 40px;\r\n    }\r\n\r\n    .news-push p {\r\n      font-size: 14px;\r\n    }\r\n\r\n    .news-list {\r\n      width: 300px;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .news-title {\r\n      font-size: 13px;\r\n    }\r\n\r\n    .news-content {\r\n      margin-top: 10px;\r\n      display: inline;\r\n    }\r\n\r\n    .news-img {\r\n      width: 300px;\r\n      height: 150px;\r\n      margin-right: 8px\r\n    }\r\n\r\n    .news-cont {\r\n      width: 300px;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/news/industry-dynamics.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('top'),_vm._v(\" \"),_c('div',{staticClass:\"news-push\"}),_vm._v(\" \"),_vm._l((_vm.newsList.news),function(news,index){return _c('div',{key:index,staticClass:\"news-list\"},[_c('div',{staticClass:\"news-title\",on:{\"click\":function($event){_vm.toDetail(news)}}},[_vm._v(_vm._s(news.newsTitle))]),_vm._v(\" \"),_c('div',{staticClass:\"news-content\"},[_c('img',{staticClass:\"news-img\",attrs:{\"src\":news.newsImg,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"news-cont\",domProps:{\"innerHTML\":_vm._s(_vm.newsCont[index+(_vm.currentPage-1)*10])}},[_vm._v(\"\\n        \"+_vm._s(_vm.newsCont[index])+\"\\n      \")])])])}),_vm._v(\" \"),(_vm.allPage)?_c('div',{staticClass:\"paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":1,\"pager-count\":5,\"layout\":\"prev, pager, next\",\"total\":_vm.allPage},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}})],1):_vm._e(),_vm._v(\" \"),_c('bottom')],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b4d68ed0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/news/industry-dynamics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b4d68ed0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./industry-dynamics.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./industry-dynamics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./industry-dynamics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b4d68ed0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./industry-dynamics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b4d68ed0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/news/industry-dynamics.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}